<!-- 新增主页面 -->
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<!-- CSS库 -->
		<!-- Bootstrap -->
		<link rel="stylesheet" href="asserts/plugins/bootstrap/css/bootstrap.min.css" />
		<link rel="stylesheet" href="asserts/CSS/yespaceCss.css" />
		<link href="asserts/CSS/fileinput.css" media="all" rel="stylesheet" type="text/css" />
		<!-- JS库 -->
		<script src="asserts/js/jquery.min.js" type="text/javascript"></script>
		<script src="asserts/js/Yespacejs.js" type="text/javascript"></script>
		<script src="asserts/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
		<script src="http://at.alicdn.com/t/font_1306353_relcrq316p.js" type="text/javascript"></script>
		<script src="asserts/js/fileinput.js" type="text/javascript"></script>
		<title>发布商品</title>
		<!-- 特定Style -->
		<style type="text/css">
			.btn {
				font-size: 3vw;
				padding: 0rem;
				background-color: white;
				color: var(--fColor);
				border: white;
			}

			input::-webkit-outer-spin-button,
			input::-webkit-inner-spin-button {
				-webkit-appearance: none;
			}

			input[type="number"] {
				-moz-appearance: textfield;
			}
		</style>
	</head>

	<body>
		<!-- 发布页顶栏 -->
		<nav class="top-header sticky-top shadow">
			<div class="container-fluid">
				<div class="row">
					<div class="col-2" align="center" style="vertical-align:bottom;">
						<svg class="icon" aria-hidden="true" style="font-size: 10vw;color: white;">
							<use xlink:href="#icon-fanhui"></use>
						</svg>
					</div>
					<div class="col-8" style="height: 0 auto;color: white;font-size: 6vw;font-weight: bold;justify-content: center;"
					 align="center">
						发布物品
					</div>
					<div class="col-2"></div>
				</div>
			</div>
		</nav>
		<!-- 详情页 -->
		<!-- 默认物件添加：进入本页面会默认添加一件物品参数，需要用户在此添加物品 -->
		<div style="padding-left: 5vw;padding-right: 5vw;padding-top: 5vw;">
			<!-- 交易方式 -->
			<a style="color: var(--fColor);font-weight: bold;font-size: 4vw;">请选择您本次支持的交易方式：</a>
			<div class="container-fluid" style="width: 100%;margin-top: 1vw;height: 100vw;" onload="pay_way()">
				<div id="pay-way"><img class="svg progress-zhe" src="asserts/img/spinner.svg" /></div>
				<div class="row" style="margin-top: 3vw;">
					<div class="col-4">
						<div class="index-zhe shadow" style="font-size: 3vw;" align="center"><svg class="icon" aria-hidden="true" style="color: var(--fColor);">
								<use xlink:href="#icon-weizhi"></use>
							</svg><a style="color: var(--fColor);">日照</a></div>
					</div>
					<div class="col-8">
						<div>
							<input type="text" class="index-zhe shadow" style="padding-left: 2vw;margin: 0;font-size: 3vw;border-style: none;height: auto;"
							 name="position" id="position" placeholder="在此填写您的位置(可选)" />
						</div>
					</div>
				</div>
				<div class="shadow" style="border-radius: 2.25rem;margin-top: 3vw;padding:2vw;padding-left: 5vw;padding-right: 5vw;"
				 align="center">
					<input type="text" class="index-zhe shadow" style="margin-left: 0vw;padding-left: 3vw;font-size: 3vw;border-style: none;height: auto;width:100%;"
					 name="itemName" placeholder="物品名称" />

					<div class="index-zhe shadow" style="border-radius: 2.25rem;overflow: hidden;padding: 0;margin: 0;margin-top: 3vw;">
						<pre id="fit1" class="hide-zhe"></pre>
						<textarea id="fit2" name="itemParameter" class="box6" style="margin-left: 0vw; 
					  padding-left: 3vw;padding-right: 3vw; font-size: 3vw;border-style: none;min-height:3vw;max-height:27vw;width:100%;"
						 placeholder="在此输入您的产品描述/参数"></textarea></div>
					<div class="container kv-main">
						<br>
						<form enctype="multipart/form-data" style="margin: 0;">
							<div class="form-group">
								<input id="file-1" type="file" multiple class="file" data-overwrite-initial="false" data-min-file-count="2">
							</div>
						</form>
					</div>
					<div class="sxzl" id="menus">
						<div class="sxzl">
							<ul id="menu1">
								<div class="row">
									<div class="col-4" align="center">
										<li><a href="#" id="sortout" style="font-size: 3.8vw;">类别&nbsp;&nbsp;&nbsp;▼</a>
											<ul id="menu2">
												<li><a href="#">无</a></li>
												<li><a class="seconds" href="#">学习&nbsp;&nbsp;→</a>
													<ul style="padding-left: 0;">
														<li><a href="#">文具</a></li>
														<li><a href="#">课本</a></li>
														<li><a href="#">习题</a></li>
													</ul>
												</li>
												<li><a class="seconds" href="#">数码&nbsp;&nbsp;&nbsp;→</a>
													<ul>
														<li><a href="#">电脑</a></li>
														<li><a href="#">手机</a></li>
														<li><a href="#">配饰</a></li>
													</ul>
												</li>
												<li><a class="seconds" href="#">日用&nbsp;&nbsp;&nbsp;→</a>
													<ul>
														<li><a href="#">洗护</a></li>
														<li><a href="#">清洁</a></li>
														<li><a href="#">护理</a></li>
													</ul>
												</li>
												<li><a class="seconds" href="#">运动&nbsp;&nbsp;&nbsp;→</a>
													<ul>
														<li><a href="#">运动服饰</a></li>
														<li><a href="#">运动器械</a></li>
														<li><a href="#">运动装备</a></li>
													</ul>
												</li>
												<li><a class="seconds" href="#">服饰&nbsp;&nbsp;&nbsp;→</a>
													<ul>
														<li><a href="#">女装</a></li>
														<li><a href="#">男装</a></li>
														<li><a href="#">童装</a></li>
													</ul>
												</li>
												<li><a class="seconds" href="#" id="food">食品&nbsp;&nbsp;&nbsp;→</a>
													<ul>
														<li><a href="#">坚果</a></li>
														<li><a href="#">熟食</a></li>
														<li><a href="#">饮品</a></li>
													</ul>
												</li>
											</ul>
										</li>
									</div>
									<div class="col-4 " align="center">
										<li><a href="#" style="font-size: 3.8vw;"><input type="number" style="text-align: right; border-style: none;width: 60%; height: auto;background: none;color: var(--fColor);"
												 name="position" id="positionfu" placeholder="折旧度" style="number-align: center;" oninput="if(value.length>2)value=value.slice(0,2)"
												 onkeyup="inputfu('positionfu')" /><span id="baifenhao" style="color: var(--sColor);">%</span></a>
										</li>

									</div>
									<div class="col-4 " align="center">
										<li><a href="#" style="font-size: 3.8vw;"><input type="text" style="border-style: none;width: 60%; height: auto;color:#4C51B1;"
												 name="position" placeholder="价格" /></a></li>
									</div>
								</div>
							</ul>
						</div>
					</div>
					<div class="row">
						<div style="width: 100%; padding: 0; margin: 0; background-color: var(--sColor);color: white;font-size: 4vw;">
							取消添加
						</div>
					</div>
					<div class="bottom-liu shadow-irreguler" style="width: 100%;height: 10vw;background-color: var(--fColor);">
						<div align="center" style="font-size: 5vw;color: white;padding-top: 1vw;">
							确认添加
						</div>
					</div>
				</div>
			</div>
			<!-- 浮动说明 -->
			<div class="father" style="z-index: 9999;display: none;" id="instruction-second">
				<div style="background: white;" class="son float-instruction shadow-irreguler">
					<div style="width: 100%;height: 0 auto; background-color: var(--fColor);">
						<div class="container-fluid" style="padding: 0rem;">
							<div class="row" style="padding: 0rem;margin: 0;">
								<div class="col-10" align="center" style="padding:0rem;color: white;font-weight: bold;font-size: 4vw;">
									为什么无法选择？
								</div>
								<div class="col-2" align="right" style="padding-right: 3vw">
									<svg class="icon" aria-hidden="true" style="font-size: 6vw;color: white;" onclick="close_instruction('instruction-second')">
										<use xlink:href="#icon-guanbi"></use>
									</svg>
								</div>
							</div>
						</div>
					</div>
					<div style="height: 70%;width: 90%;margin-top: 6vw;" class="son box6 tip-css">
						您当前区域暂未部署悠悦易存产品或由于您未选择您的高校系统无法判断您的区域是否部署悠悦易存产品，您暂时无法使用平台交易。
					</div>
				</div>
			</div>
			<!-- 控制多选框 -->
			<script>
				CSS.paintWorklet.addModule('asserts/js/Checkbox.js')
				CSS.registerProperty({
					name: "--bg-color",
					syntax: "<color>",
					initialValue: "#fff"
				});
				CSS.registerProperty({
					name: "--border-color",
					syntax: "<color>",
					initialValue: "#fff"
				});
				CSS.registerProperty({
					name: "--line-color",
					syntax: "<color>",
					initialValue: "#fff"
				});
				const changeIndeterminate = document.querySelector('#changeIndeterminate')
				const checkbox = document.querySelectorAll('.custom-checkbox')[0]
				const checkbox1 = document.querySelectorAll('.custom-checkbox')[1]
				checkbox.indeterminate = true
				checkbox1.indeterminate = true
				changeIndeterminate.addEventListener('click', () => {
					checkbox.indeterminate = !checkbox.indeterminate
					checkbox1.indeterminate = !checkbox1.indeterminate
				})
			</script>
			<!-- textarea高度自适应 -->
			<script>
				document.onkeydown = function() {
					var textarea = document.getElementById('fit2')
					var pre = document.getElementById('fit1');
					pre.innerHTML = textarea.value;
					var screenHeight = window.screen.height;
					var realHeight = pre.offsetHeight;
					// alert(realHeight+screenHeight);//offsetHeight = height + padding + border
					if (realHeight > (2 / 100) * screenHeight) textarea.style.height = (realHeight + (9 / 100) * screenHeight - (1 /
						100) * screenHeight) + 'px'; //加24为一行的高度，减32为padding和border
					else textarea.style.height = realHeight - 5 * screenHeight + 'px';
				}
			</script>
			<!-- 控制图片上传 -->
			<script>
				$("#file-1").fileinput({
					uploadUrl: 'asserts/img', // you must set a valid URL here else you will get an error
					allowedFileExtensions: ['jpg', 'png', 'gif'],
					overwriteInitial: false,
					maxFileSize: 5000,
					maxFilesNum: 9,
					//allowedFileTypes: ['image', 'video', 'flash'],
					slugCallback: function(filename) {
						return filename.replace('(', '_').replace(']', '_');
					}
				});
			</script>
			<!-- 折旧度百分比 -->
			<script>
				function inputfu(obj) {
					// alert(123);
					var bfh = document.getElementById('baifenhao');
					if (document.getElementById(obj).value.length !== 0) {
						bfh.style.color = 'var(--fColor)';
					} else {
						bfh.style.color = 'var(--sColor)';
					}
				};
			</script>
	</body>
</html>
